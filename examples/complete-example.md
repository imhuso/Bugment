# Bugment AI Code Review - å®Œæ•´ä½¿ç”¨ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Bugment AI Code Review GitHub Action ä½¿ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•åœ¨æ‚¨çš„é¡¹ç›®ä¸­é›†æˆ AI ä»£ç å®¡æŸ¥åŠŸèƒ½ã€‚

## ğŸ“‹ å‰ç½®è¦æ±‚

1. **Augment è´¦æˆ·**: æ‚¨éœ€è¦æœ‰ä¸€ä¸ª Augment è´¦æˆ·å¹¶è·å–è®¿é—®å‡­æ®
2. **GitHub ä»“åº“**: å¯ç”¨äº† GitHub Actions çš„ä»“åº“
3. **æƒé™è®¾ç½®**: ç¡®ä¿ Actions æœ‰è¯»å–ä»£ç å’Œå†™å…¥è¯„è®ºçš„æƒé™

## ğŸ”§ æ­¥éª¤ 1: è·å– Augment å‡­æ®

1. ç™»å½•æ‚¨çš„ Augment è´¦æˆ·
2. å¯¼èˆªåˆ° API è®¾ç½®é¡µé¢
3. è·å–ä»¥ä¸‹ä¿¡æ¯ï¼š
   - **Access Token**: æ‚¨çš„è®¿é—®ä»¤ç‰Œ
   - **Tenant URL**: æ‚¨çš„ç§Ÿæˆ· URLï¼ˆä¾‹å¦‚ï¼š`https://your-company.augment.com`ï¼‰

## ğŸ” æ­¥éª¤ 2: é…ç½® GitHub Secrets

åœ¨æ‚¨çš„ GitHub ä»“åº“ä¸­è®¾ç½®ä»¥ä¸‹ Secretsï¼š

1. è¿›å…¥ä»“åº“ â†’ `Settings` â†’ `Secrets and variables` â†’ `Actions`
2. ç‚¹å‡» `New repository secret`
3. æ·»åŠ ä»¥ä¸‹ secretsï¼š

| Secret åç§°            | å€¼                    | è¯´æ˜                  |
| ---------------------- | --------------------- | --------------------- |
| `AUGMENT_ACCESS_TOKEN` | æ‚¨çš„ Augment è®¿é—®ä»¤ç‰Œ | ç”¨äº Augment API è®¤è¯ |
| `AUGMENT_TENANT_URL`   | æ‚¨çš„ Augment ç§Ÿæˆ· URL | Augment æœåŠ¡åœ°å€      |

## ğŸ“ æ­¥éª¤ 3: åˆ›å»ºå·¥ä½œæµæ–‡ä»¶

åœ¨æ‚¨çš„ä»“åº“ä¸­åˆ›å»º `.github/workflows/ai-code-review.yml` æ–‡ä»¶ï¼š

```yaml
name: AI Code Review

# è§¦å‘æ¡ä»¶ï¼šPR åˆ›å»ºã€æ›´æ–°æˆ–é‡æ–°æ‰“å¼€æ—¶
on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  ai-code-review:
    name: AI Code Review
    runs-on: ubuntu-latest

    # è®¾ç½®å¿…è¦çš„æƒé™
    permissions:
      contents: read # è¯»å–ä»£ç 
      pull-requests: write # å†™å…¥ PR è¯„è®º

    steps:
      # è¿è¡Œ AI ä»£ç å®¡æŸ¥ï¼ˆAction ä¼šè‡ªåŠ¨æ£€å‡ºä»£ç ï¼‰
      - name: Run AI Code Review
        uses: J3n5en/bugment@main
        with:
          # å¿…éœ€å‚æ•°ï¼šAugment è®¤è¯ä¿¡æ¯
          augment_access_token: ${{ secrets.AUGMENT_ACCESS_TOKEN }}
          augment_tenant_url: ${{ secrets.AUGMENT_TENANT_URL }}
```

## ğŸ¯ æ­¥éª¤ 4: æµ‹è¯•è®¾ç½®

1. **åˆ›å»ºæµ‹è¯• PR**: åœ¨æ‚¨çš„ä»“åº“ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ Pull Request
2. **æŸ¥çœ‹ Actions**: è¿›å…¥ `Actions` æ ‡ç­¾é¡µï¼ŒæŸ¥çœ‹å·¥ä½œæµæ˜¯å¦æ­£å¸¸è¿è¡Œ
3. **æ£€æŸ¥è¯„è®º**: å·¥ä½œæµå®Œæˆåï¼Œåœ¨ PR ä¸­æŸ¥çœ‹ AI ç”Ÿæˆçš„ä»£ç å®¡æŸ¥è¯„è®º

## ğŸ“Š é¢„æœŸç»“æœ

å½“ PR åˆ›å»ºæˆ–æ›´æ–°æ—¶ï¼Œæ‚¨å°†çœ‹åˆ°ï¼š

1. **GitHub Actions è¿è¡Œ**: åœ¨ Actions é¡µé¢çœ‹åˆ° "AI Code Review" å·¥ä½œæµè¿è¡Œ
2. **è‡ªåŠ¨è¯„è®º**: åœ¨ PR ä¸­çœ‹åˆ° Bugment å‘å¸ƒçš„è¯¦ç»†ä»£ç å®¡æŸ¥è¯„è®ºï¼ŒåŒ…æ‹¬ï¼š
   - ğŸ“ **æ•´ä½“è¯„ä»·**: PR çš„æ€»ä½“è´¨é‡è¯„ä¼°
   - ğŸ” **Code Smells**: ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§é—®é¢˜
   - ğŸ› **æ½œåœ¨ Bug**: å¯èƒ½å¯¼è‡´åŠŸèƒ½é”™è¯¯çš„ä»£ç 
   - ğŸ”’ **å®‰å…¨é—®é¢˜**: å®‰å…¨æ¼æ´å’Œé£é™©ç‚¹
   - âš¡ **æ€§èƒ½é—®é¢˜**: æ€§èƒ½ä¼˜åŒ–å»ºè®®

## ğŸ”„ å·¥ä½œæµç¨‹è¯´æ˜

1. **è§¦å‘**: å½“ PR è¢«åˆ›å»ºã€æ›´æ–°æˆ–é‡æ–°æ‰“å¼€æ—¶è‡ªåŠ¨è§¦å‘
2. **è®¤è¯**: ä½¿ç”¨æ‚¨æä¾›çš„ Augment å‡­æ®è¿›è¡Œèº«ä»½éªŒè¯
3. **åˆ†æ**: è·å– PR çš„ä»£ç å·®å¼‚å¹¶å‘é€ç»™ Augment AI è¿›è¡Œåˆ†æ
4. **è¯„è®º**: å°† AI ç”Ÿæˆçš„å®¡æŸ¥ç»“æœä½œä¸ºè¯„è®ºå‘å¸ƒåˆ° PR ä¸­
5. **æ›´æ–°**: å¦‚æœ PR å†æ¬¡æ›´æ–°ï¼Œä¼šæ›¿æ¢ä¹‹å‰çš„è¯„è®ºï¼ˆé¿å…é‡å¤ï¼‰

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**é—®é¢˜ 1: è®¤è¯å¤±è´¥**

```
Error: Authentication failed
```

**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥ `AUGMENT_ACCESS_TOKEN` å’Œ `AUGMENT_TENANT_URL` æ˜¯å¦æ­£ç¡®è®¾ç½®

**é—®é¢˜ 2: æƒé™ä¸è¶³**

```
Error: Resource not accessible by integration
```

**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿å·¥ä½œæµæ–‡ä»¶ä¸­åŒ…å«äº†æ­£ç¡®çš„æƒé™è®¾ç½®ï¼š

```yaml
permissions:
  contents: read
  pull-requests: write
```

**é—®é¢˜ 3: æ²¡æœ‰è¯„è®ºå‡ºç°**

```
å·¥ä½œæµè¿è¡ŒæˆåŠŸä½†æ²¡æœ‰è¯„è®º
```

**è§£å†³æ–¹æ¡ˆ**:

- æ£€æŸ¥ PR æ˜¯å¦æœ‰ä»£ç å˜æ›´
- ç¡®è®¤ `github_token` æœ‰å†™å…¥æƒé™
- æŸ¥çœ‹ Actions æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è°ƒè¯•æ—¥å¿—**: åœ¨ä»“åº“ Secrets ä¸­æ·»åŠ  `ACTIONS_STEP_DEBUG` = `true`
2. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**: åœ¨ Actions è¿è¡Œé¡µé¢æŸ¥çœ‹æ¯ä¸ªæ­¥éª¤çš„è¯¦ç»†è¾“å‡º
3. **æµ‹è¯•è¿æ¥**: ç¡®ä¿ Augment æœåŠ¡å¯ä»¥æ­£å¸¸è®¿é—®

## ğŸ‰ æˆåŠŸç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªæˆåŠŸçš„ AI ä»£ç å®¡æŸ¥è¯„è®ºç¤ºä¾‹ï¼š

```markdown
## ğŸ¤– Bugment AI Code Review

# Overall Comments

- 1ï¸âƒ£ ä»£ç æ•´ä½“ç»“æ„æ¸…æ™°ï¼Œéµå¾ªäº†è‰¯å¥½çš„ç¼–ç¨‹å®è·µ
- 2ï¸âƒ£ å»ºè®®æ·»åŠ æ›´å¤šçš„é”™è¯¯å¤„ç†æœºåˆ¶
- 3ï¸âƒ£ éƒ¨åˆ†å‡½æ•°å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½

# Code Smells

## 1. å‡½æ•°è¿‡é•¿

**ä¸¥é‡ç¨‹åº¦**: ğŸŸ¡ **ä¸­ç­‰**
**æè¿°**: `processData` å‡½æ•°åŒ…å«è¿‡å¤šé€»è¾‘ï¼Œå»ºè®®æ‹†åˆ†ä¸ºæ›´å°çš„å‡½æ•°
**ä½ç½®**: `src/utils.js#L15-L45`
**AIä¿®å¤Prompt**:
```

Split the long processData function into smaller, single-responsibility functions

```

# Bugs
æ— 

# Security Issues
æ— 

# Performance Issues
æ— 

---
*This review was generated by Bugment AI Code Review Action*
```

## ğŸ“š æ›´å¤šèµ„æº

- [Bugment GitHub Repository](https://github.com/J3n5en/bugment)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [Augment å®˜æ–¹æ–‡æ¡£](https://augment.com/docs)

---

ç°åœ¨æ‚¨å·²ç»æˆåŠŸè®¾ç½®äº† Bugment AI Code Reviewï¼æ¯æ¬¡åˆ›å»ºæˆ–æ›´æ–° PR æ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸“ä¸šçš„ AI ä»£ç å®¡æŸ¥åé¦ˆã€‚
